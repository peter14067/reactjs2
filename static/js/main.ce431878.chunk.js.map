{"version":3,"sources":["index.js"],"names":["Main","state","modal","album","AlbumJson","cart","toggle","setState","addToCart","product","console","log","price","push","checkout","totalPrice","alert","deleteCartItem","index","splice","this","reduce","acc","item","className","md","color","onClick","length","map","sm","width","src","img","alt","title","discount","desc","isOpen","scope","disabled","React","Component","ReactDOM","render","document","getElementById"],"mappings":"0zMASMA,E,2MACFC,MAAQ,CACJC,OAAO,EACPC,MAAOC,EACPC,KAAK,I,EAGPC,OAAS,WACP,EAAKC,SAAS,CACZL,OAAQ,EAAKD,MAAMC,S,EAKvBM,UAAY,SAACC,GACX,IAAMJ,EAAO,EAAKJ,MAAMI,KACxBK,QAAQC,IAAIF,EAAQG,OACpBP,EAAKQ,KAAKJ,GAEV,EAAKF,SAAS,CACZF,U,EAkBJS,SAAS,SAACC,GACRC,MAAM,+DAAD,OAAcD,EAAd,kB,EAKPE,eAAiB,SAACC,GACd,IAAMb,EAAO,EAAKJ,MAAMI,KACxBA,EAAKc,OAAOD,EAAM,GAClB,EAAKX,SAAS,CACVF,U,wEAKE,IAAD,SACsBe,KAAKnB,MAA1BE,EADD,EACCA,MAAME,EADP,EACOA,KAAKH,EADZ,EACYA,MACba,EAAaV,EAAKgB,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAOC,EAAKX,QAAQ,GAGnE,OACE,yBAAKY,UAAU,WACb,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,GAAI,IACP,kBAAC,IAAD,KACE,wBAAID,UAAU,aAAd,4BACA,uBAAGA,UAAU,QAAb,oPAGA,uBAAGA,UAAU,QAAb,0MAGA,uBAAGA,UAAU,QAAb,kRAGA,uBAAGA,UAAU,QAAb,4HAGA,wBAAIA,UAAU,SACd,uBAAGA,UAAU,QACX,kBAAC,IAAD,CAAQE,MAAM,UAAUC,QAASP,KAAKd,QAAtC,sBAAmDD,EAAKuB,OAAxD,SAKR,kBAAC,IAAD,KAEIzB,EAAM0B,KAAI,SAAApB,GAAO,OACf,kBAAC,IAAD,CAAKqB,GAAI,EAAGL,GAAI,EAAGD,UAAU,QAC3B,kBAAC,IAAD,KACE,kBAAC,IAAD,CAASO,MAAM,OAAOC,IAAKvB,EAAQwB,IAAKC,IAAI,mBAE1C,kBAAC,IAAD,KAAYzB,EAAQ0B,OACpB,kBAAC,IAAD,KACE,4BAEI1B,EAAQ2B,SACJ,kBAAC,IAAD,CAAOV,MAAM,UAAb,qBAA0BjB,EAAQG,OAClC,kBAAC,IAAD,CAAOc,MAAM,WAAb,qBAA2BjB,EAAQG,SAI7C,kBAAC,IAAD,KAAWH,EAAQ4B,MAInB,kBAAC,IAAD,CAEFX,MAAM,YACNC,QAAS,kBAAM,EAAKnB,UAAUC,KAH5B,sBAmBZ,kBAAC,IAAD,CAAO6B,OAAQpC,EAAOI,OAAQc,KAAKd,QACjC,kBAAC,IAAD,CAAaA,OAAQc,KAAKd,QAA1B,sBACA,kBAAC,IAAD,KACA,kBAAC,IAAD,KACA,+BACE,4BACE,iCACA,4CACA,8CAGJ,+BAEQD,EAAKwB,KAAI,SAACN,EAAKL,GAAN,OACL,4BACtB,wBAAIqB,MAAM,OAAOrB,EAAM,GACL,4BAAKK,EAAKY,OACV,4BAAKZ,EAAKX,OAC5B,4BAAI,kBAAC,IAAD,CAAQc,MAAM,SAASC,QAAS,kBAAI,EAAKV,eAAeC,KAAxD,KAA2E,WAanE,kBAAC,IAAD,CAAOQ,MAAM,UAAUF,UAAU,cAAjC,gBAGMT,EAHN,WAeF,kBAAC,IAAD,KAWN,4BAGV,4BAAI,kBAAC,IAAD,CAEcyB,SAAwB,IAAdnC,EAAKuB,OACfF,MAAM,UAGIC,QAAS,kBAAI,EAAKb,SAASC,KANnD,kBA0Bc,kBAAC,IAAD,CAAQW,MAAM,YAAYC,QAASP,KAAKd,QAAxC,wB,GAlNCmC,IAAMC,WAmOrBC,IAASC,OACR,kBAAC5C,EAAD,MACC6C,SAASC,eAAe,W","file":"static/js/main.ce431878.chunk.js","sourcesContent":["import ReactDOM from \"react-dom\"\nimport React from \"react\"\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Container, Row, Col, Jumbotron, Button, Card, CardImg, CardBlock, CardTitle, CardSubtitle, CardText, Badge, Modal, ModalHeader, ModalBody, ModalFooter, Table, Alert } from 'reactstrap';\nimport AlbumJson from './Album.json';\n\n\n\n\nclass Main extends React.Component {\n    state = {\n        modal: false,\n        album: AlbumJson,\n        cart:[],\n      }\n    \n      toggle = () => {\n        this.setState({\n          modal: !this.state.modal,\n        });\n      }\n    \n\n      addToCart = (product) => {\n        const cart = this.state.cart;\n        console.log(product.price);\n        cart.push(product);\n    \n        this.setState({\n          cart\n        });\n      \n      }\n/*\n      addTo = (cart) => {\n        const cart1 = this.state.cart.reduce((acc, item) => (acc += item.price), 0);\n        \n        alert(\"你已購買成功!   \"+\"總金額為     \"+cart1);\n        this.setState({\n          modal: !this.state.modal,\n        });\n       \n      \n      }\n*/\n\n\n      checkout=(totalPrice)=>{\n        alert(`已從您的信用卡中扣除${totalPrice}元！`); \n      }\n      \n\n\n      deleteCartItem = (index) => {\n          const cart = this.state.cart;\n          cart.splice(index,1);\n          this.setState({\n              cart\n          });\n      }\n\n\n      render() {\n        const { album,cart,modal } = this.state;\n        const totalPrice = cart.reduce((acc, item) => (acc += item.price), 0);\n\n\n        return (\n          <div className=\"content\">\n            <Container>\n              <Row>\n                <Col md={12}>\n                  <Jumbotron>\n                    <h1 className=\"display-3\">美客唱片</h1>\n                    <p className=\"lead\">\n                      美客唱片成立以來，結合實體唱片通路、唱片公司、網站，因而擁有豐富、完整的音樂資源\n                    </p>\n                    <p className=\"lead\">\n                      並與電視、廣播等媒體進行策略聯盟，已迅速打響知名度，並廣受各界好評\n                    </p>\n                    <p className=\"lead\">\n                      不僅如此，美客唱片將跨足大中華地區，透過舉辦跨國、跨區域的大型頒獎典禮、演唱會以及音樂活動\n                    </p>\n                    <p className=\"lead\">\n                      進一步擴大影響力，提昇流行音樂產業的動能\n                    </p>\n                    <hr className=\"my-2\" />\n                    <p className=\"lead\">\n                      <Button color=\"primary\" onClick={this.toggle}>購物車({cart.length})</Button>\n                    </p>\n                  </Jumbotron>\n                </Col>\n              </Row>\n              <Row>\n                {\n                  album.map(product => (\n                    <Col sm={6} md={4} className=\"mb-3\">\n                      <Card>\n                        <CardImg width=\"100%\" src={product.img} alt=\"Card image cap\" />\n                        \n                          <CardTitle>{product.title}</CardTitle>\n                          <CardSubtitle>\n                            <h4>\n                              {\n                                product.discount\n                                  ? <Badge color=\"danger\">特價：{product.price}</Badge>\n                                  : <Badge color=\"success\">售價：{product.price}</Badge>\n                              }\n                            </h4>\n                          </CardSubtitle>\n                          <CardText>{product.desc}</CardText>\n                         \n                        \n\n                          <Button\n                     \n                        color=\"secondary\"\n                        onClick={() => this.addToCart(product)}\n                       \n                      >\n                        購買\n                      </Button>\n\n\n\n\n\n                      </Card>\n                    </Col>\n                  ))\n                }\n              </Row>\n    \n              <Modal isOpen={modal} toggle={this.toggle}>\n                <ModalHeader toggle={this.toggle}>購物車</ModalHeader>\n                <ModalBody>\n                <Table>\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>品項</th>\n                    <th>價格</th>\n                  </tr>\n                </thead>\n                <tbody>\n                    {\n                        cart.map((item,index)=>(\n                            <tr>\n      <th scope=\"row\">{index+1}</th>\n                        <td>{item.title}</td>\n                        <td>{item.price}</td>\n      <td><Button color=\"danger\" onClick={()=>this.deleteCartItem(index)}>x</Button>{' '}</td>\n                            </tr>\n\n\n                        \n                        ))\n\n                    }\n                     \n\n                     \n                    </tbody>\n                  </Table>\n                  <Alert color=\"success\" className=\"text-right\">\n                    總價:\n                    {\n                        totalPrice\n                        \n                        \n                        }\n                      \n                        元\n                    \n\n\n                  </Alert>\n            \n                </ModalBody>\n                <ModalFooter>\n              \n\n                          {\n\n\n\n       \n  \n  \n        //cart.map((item,index)=>(\n          <tr>\n\n \n<td><Button                \n                    \n                  disabled={cart.length===0}\n                  color=\"primary\"\n            \n                  //onClick={() => this.addTo(cart)}\n                            onClick={()=>this.checkout(totalPrice)}\n                  \n                  >\n\n                      結帳\n\n                  </Button>{}</td>\n          </tr>\n\n\n      \n      //))\n\n  \n  \n  \n           \n                    \n      }\n                 \n                  <Button color=\"secondary\" onClick={this.toggle}>取消</Button>\n\n\n                          \n                </ModalFooter>\n              </Modal>\n             \n            </Container>\n          </div>\n\n\n      )\n  }\n}\n\n\n\n    ReactDOM.render(\n     <Main/>,\n      document.getElementById('root')\n    );\n  \n"],"sourceRoot":""}