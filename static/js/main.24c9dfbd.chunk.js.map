{"version":3,"sources":["../node_modules/kai-api/node_modules/express/lib sync","Product.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Product1","this","props","product","cart","addToCart","Card","CardImg","width","src","img","alt","CardTitle","title","CardSubtitle","discount","Badge","COLOR","price","color","CardText","desc","Button","disabled","find","item","onClick","Component","Main","require","state","modal","album","AlbumJson","componentDidMount","a","fetch","then","response","json","data","setState","toggle","console","log","push","checkout","totalPrice","alert","deleteCartItem","index","splice","reduce","acc","className","Container","Row","Col","md","Jumbotron","length","map","sm","Modal","isOpen","ModalHeader","ModalBody","Table","scope","Alert","ModalFooter","React","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.24c9dfbd.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 318;","import React,{Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Card, CardImg,  CardTitle, CardSubtitle, CardText, Badge } from 'reactstrap';\r\n\r\nexport default class Product1 extends Component {\r\n    static propTypes={\r\n        product:PropTypes.object,\r\n        cart:PropTypes.array,\r\n        addToCart:PropTypes.func,\r\n\r\n\r\n    }\r\n\r\n    render(){\r\n\r\n        const{product,cart,addToCart}=this.props;\r\n\r\n\r\n        return(\r\n            <Card>\r\n                    <CardImg width=\"100%\" src={product.img} alt=\"Card image cap\"/>\r\n\r\n                <CardTitle>{product.title} </CardTitle>\r\n                <CardSubtitle>\r\n                <h4>\r\n                {\r\n                    product.discount\r\n                ?<Badge COLOR=\"danget\">特價:{product.price}</Badge>\r\n                :<Badge color=\"success\">售價:{product.price}</Badge>\r\n\r\n                }\r\n\r\n                </h4>\r\n\r\n                </CardSubtitle>\r\n          <CardText>{product.desc}</CardText>\r\n          <Button\r\n            disabled={cart.find(item => item.id === product.id)}\r\n            color=\"secondary\"\r\n            onClick={() => addToCart(product)}\r\n          >\r\n            購買\r\n          </Button>\r\n      \r\n      </Card>\r\n    );\r\n  }\r\n}","import ReactDOM from \"react-dom\"\nimport React from \"react\"\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Container, Row, Col, Jumbotron, Button, Card, CardImg, CardBlock, CardTitle, CardSubtitle, CardText, Badge, Modal, ModalHeader, ModalBody, ModalFooter, Table, Alert } from 'reactstrap';\nimport AlbumJson from './Album.json';\nimport Product from './Product';\nvar apiTestServer = require('kai-api');\n\n\n\nclass Main extends React.Component {\n    state = {\n        modal: false,\n        album: AlbumJson,\n        cart:[],\n      }\n      \n    \n \n    \n\n   呼叫API\n   componentDidMount = async () => {\n     const data = await fetch('https://demojson.herokuapp.com/cart').then(response => response.json());\n\n     this.setState({\n      album: data,\n     });\n   }\n\n\n\n\n\n\n      toggle = () => {\n        this.setState({\n          modal: !this.state.modal,\n        });\n      }\n    \n\n      addToCart = (product) => {\n        const cart = this.state.cart;\n        console.log(product.price);\n        cart.push(product);\n    \n        this.setState({\n          cart\n        });\n      \n      }\n/*\n      addTo = (cart) => {\n        const cart1 = this.state.cart.reduce((acc, item) => (acc += item.price), 0);\n        \n        alert(\"你已購買成功!   \"+\"總金額為     \"+cart1);\n        this.setState({\n          modal: !this.state.modal,\n        });\n       \n      \n      }\n*/\n\n\n      checkout=(totalPrice)=>{\n        alert(`已從您的信用卡中扣除${totalPrice}元！`); \n      }\n      \n\n\n      deleteCartItem = (index) => {\n          const cart = this.state.cart;\n          cart.splice(index,1);\n          this.setState({\n              cart\n          });\n      }\n\n\n      render() {\n        const { album,cart,modal } = this.state;\n        const totalPrice = cart.reduce((acc, item) => (acc += item.price), 0);\n\n\n        return (\n          <div className=\"content\">\n            <Container>\n              <Row>\n                <Col md={12}>\n                  <Jumbotron>\n                    <h1 className=\"display-3\">幸福時機</h1>\n                    <p className=\"lead\">\n                    幸福時機成立以來，結合實體唱片通路、唱片公司、網站，因而擁有豐富、完整的音樂資源\n                    </p>\n                    <p className=\"lead\">\n                      並與電視、廣播等媒體進行策略聯盟，已迅速打響知名度，並廣受各界好評\n                    </p>\n                    <p className=\"lead\">\n                      不僅如此，美客唱片將跨足大中華地區，透過舉辦跨國、跨區域的大型頒獎典禮、演唱會以及音樂活動\n                    </p>\n                    <p className=\"lead\">\n                      進一步擴大影響力，提昇流行音樂產業的動能\n                    </p>\n                    <hr className=\"my-2\" />\n                    <p className=\"lead\">\n                      <Button color=\"primary\" onClick={this.toggle}>購物車({cart.length})</Button>\n                    </p>\n                  </Jumbotron>\n                </Col>\n              </Row>\n              <Row>\n                {\n                  album.map(product => (\n                    <Col sm={6} md={4} className=\"mb-3\">\n                  <Product\n                    product={product}\n                    cart={cart}\n                    addToCart={this.addToCart}\n                  />\n                  </Col>\n                  ))\n                }\n              </Row>\n    \n              <Modal isOpen={modal} toggle={this.toggle}>\n                <ModalHeader toggle={this.toggle}>購物車</ModalHeader>\n                <ModalBody>\n                <Table>\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>品項</th>\n                    <th>價格</th>\n                  </tr>\n                </thead>\n                <tbody>\n                    {\n                        cart.map((item,index)=>(\n                            <tr>\n      <th scope=\"row\">{index+1}</th>\n                        <td>{item.title}</td>\n                        <td>{item.price}</td>\n      <td><Button color=\"danger\" onClick={()=>this.deleteCartItem(index)}>x</Button>{' '}</td>\n                            </tr>\n\n\n                        \n                        ))\n\n                    }\n                     \n\n                     \n                    </tbody>\n                  </Table>\n                  <Alert color=\"success\" className=\"text-right\">\n                    總價:\n                    {\n                        totalPrice\n                        \n                        \n                        }\n                      \n                        元\n                    \n\n\n                  </Alert>\n            \n                </ModalBody>\n                <ModalFooter>\n              \n\n                          {\n\n\n\n       \n  \n  \n        //cart.map((item,index)=>(\n          <tr>\n\n \n<td><Button                \n                    \n                  disabled={cart.length===0}\n                  color=\"primary\"\n            \n                  //onClick={() => this.addTo(cart)}\n                            onClick={()=>this.checkout(totalPrice)}\n                  \n                  >\n\n                      結帳\n\n                  </Button>{}</td>\n          </tr>\n\n\n      \n      //))\n\n  \n  \n  \n           \n                    \n      }\n                 \n                  <Button color=\"secondary\" onClick={this.toggle}>取消</Button>\n\n\n                          \n                </ModalFooter>\n              </Modal>\n             \n            </Container>\n          </div>\n\n\n      )\n  }\n}\n\n\n\n    ReactDOM.render(\n     <Main/>,\n      document.getElementById('root')\n    );\n  \n"],"sourceRoot":""}